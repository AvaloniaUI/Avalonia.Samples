<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<link rel="icon" type="image/svg" href="../../../../_docs/_Assets/Logo.svg">
<title>Commands Example</title>
<style>
@import url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css);

:root {
    --background: #fff;
    --black-color: #000;
    --background-yellow: #ff0;
    --border: #c0c0c0;
    --gray-color: #6c818f;
    --link-color-default: var(--accent-primary-color);
    --foreground-color: #222222;
    --accent-primary-color: #3578e5;
    --accent-secondary-color: #102445;
    --border2: #dddddd;
    --block-quote-color: #748590;
    --pre-background-color: #f2f2f2;
    --dark-gray-color: #333333;
    --kdb-background-color: #F7F7F7;
    --header-color: var(--accent-primary-color);
    --link-hover-color: #102445;
    --toc-border-color: #d9d9d9;
    --exampleblock-border-color: #e6e6e6;
    --em-color: #373737;
    --admotion-background-color: #e6e6e6;
    --sidebar-background-color: #e8ecef;
    --border-radius-default: 6px;
}

/* normalize.css v2.1.1 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary {
    display: block;
}

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video {
    display: inline-block;
}

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) {
    display: none;
    height: 0;
}

/** Address styling not present in IE 8/9. */
[hidden] {
    display: none;
}

/* ========================================================================== Base ========================================================================== */
/** 1. Prevent system color scheme's background color being used in Firefox, IE, and Opera. 2. Prevent system color scheme's text color being used in Firefox, IE, and Opera. 3. Set default font family to sans-serif. 4. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html {
    background: var(--background); /* 1 */
    color: var(--black-color); /* 2 */
    font-family: sans-serif; /* 3 */
    -ms-text-size-adjust: 100%; /* 4 */
    -webkit-text-size-adjust: 100%; /* 4 */
}

/** Remove default margin. */
body {
    margin: 0;
}

/* ========================================================================== Links ========================================================================== */
/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus {
    outline: thin dotted;
}

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover {
    outline: 0;
}

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] {
    border-bottom: 1px dotted;
}

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong {
    font-weight: bold;
}

/** Address styling not present in Safari 5 and Chrome. */
dfn {
    font-style: italic;
}

/** Address differences between Firefox and other browsers. */
hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/** Address styling not present in IE 8/9. */
mark {
    background: var(--background-yellow);
    color: var(--black-color);
}

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp {
    font-family: monospace, serif;
    font-size: 1em;
}

/** Improve readability of pre-formatted text in all browsers. */
pre {
    white-space: pre-wrap;
}

/** Set consistent quote types. */
q {
    quotes: "\201C" "\201D" "\2018" "\2019";
}

/** Address inconsistent and variable font size in all browsers. */
small {
    font-size: 80%;
}

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img {
    border: 0;
}

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) {
    overflow: hidden;
}

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure {
    margin: 0;
}

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset {
    border: 1px solid var(--border);
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend {
    border: 0; /* 1 */
    padding: 0; /* 2 */
}

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea {
    font-family: inherit; /* 1 */
    font-size: 100%; /* 2 */
    margin: 0; /* 3 */
}

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input {
    line-height: normal;
}

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select {
    text-transform: none;
}

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
}

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] {
    cursor: default;
}

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
}

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table {
    border-collapse: collapse;
    border-spacing: 0;
}

*, *:before, *:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
}

html, body {
    font-size: 100%;
}

body {
    background: white;
    color: var(--foreground-color);
    padding: 0;
    margin: 0;
    font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;
    font-weight: normal;
    font-style: normal;
    line-height: 1;
    position: relative;
    cursor: auto;
}

a:hover {
    cursor: pointer;
}

a:focus {
    outline: none;
}

img, object, embed {
    max-width: 100%;
    height: auto;
}

object, embed {
    height: 100%;
}

img {
    -ms-interpolation-mode: bicubic;
}

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object {
    max-width: none !important;
}

.left {
    float: left !important;
}

.right {
    float: right !important;
}

.text-left {
    text-align: left !important;
}

.text-right {
    text-align: right !important;
}

.text-center {
    text-align: center !important;
}

.text-justify {
    text-align: justify !important;
}

.hide {
    display: none;
}

.antialiased, body {
    -webkit-font-smoothing: antialiased;
}

img {
    display: inline-block;
    vertical-align: middle;
}

textarea {
    height: auto;
    min-height: 50px;
}

select {
    width: 100%;
}

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p {
    font-size: 1.21875em;
    line-height: 1.6;
}

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption {
    line-height: 1.4;
    color: var(--accent-primary-color);
    font-weight: 300;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td {
    margin: 0;
    /*padding: 0;*/
    direction: ltr;
}

/* Default Link Styles */
a {
    color: var(--link-color-default);
    text-decoration: none;
    line-height: inherit;
}

a:hover, a:focus {
    color: var(--header-color);
}

a img {
    border: none;
}

/* Default paragraph styles */
p {
    font-family: inherit;
    font-weight: normal;
    font-size: 1em;
    line-height: 1.5;
    margin-bottom: 1.25em;
    text-rendering: optimizeLegibility;
}

p aside {
    font-size: 0.875em;
    line-height: 1.35;
    font-style: italic;
}

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 {
    font-family: ff-meta-web-pro-1, ff-meta-web-pro-2, Arial, "Helvetica Neue", sans-serif;
    font-weight: bold;
    font-style: normal;
    color: var(--accent-primary-color);
    text-rendering: optimizeLegibility;
    margin-top: 1em;
    margin-bottom: 0.5em;
    line-height: 1.2125em;
}

h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small {
    font-size: 60%;
    color: var(--accent-secondary-color);
    line-height: 0;
}

h1 {
    font-size: 2.125em;
}

h2 {
    font-size: 1.6875em;
}

h3, #toctitle, .sidebarblock > .content > .title {
    font-size: 1.375em;
}

h4 {
    font-size: 1.125em;
}

h5 {
    font-size: 1.125em;
}

h6 {
    font-size: 1em;
}

hr {
    border: solid var(--border2);
    border-width: 1px 0 0;
    clear: both;
    margin: 1.25em 0 1.1875em;
    height: 0;
}

/* Helpful Typography Defaults */
em, i {
    font-style: italic;
    line-height: inherit;
}

strong, b {
    font-weight: bold;
    line-height: inherit;
}

small {
    font-size: 60%;
    line-height: inherit;
}

code {
    font-family: "Consolas", "Deja Vu Sans Mono", "Bitstream Vera Sans Mono", monospace;
    font-weight: normal;
    color: var(--link-color-default);
}

/* Lists */
ul, ol, dl {
    font-size: 1em;
    line-height: 1.5;
    margin-bottom: 1.25em;
    list-style-position: outside;
    font-family: inherit;
}

ul, ol {
    margin-left: 0;
}

/* Unordered Lists */
ul li ul, ul li ol {
    margin-left: 1.25em;
    margin-bottom: 0;
    font-size: 1em; /* Override nested font-size change */
}

ul.square li ul, ul.circle li ul, ul.disc li ul {
    list-style: inherit;
}

ul.square {
    list-style-type: square;
}

ul.circle {
    list-style-type: circle;
}

ul.disc {
    list-style-type: disc;
}

ul.no-bullet {
    list-style: none;
}

/* Ordered Lists */
ol li ul, ol li ol {
    margin-left: 1.25em;
    margin-bottom: 0;
}

/* Definition Lists */
dl dt {
    margin-bottom: 0.3em;
    font-weight: bold;
}

dl dd {
    margin-bottom: 0.75em;
}

/* Abbreviations */
abbr, acronym {
    text-transform: uppercase;
    font-size: 90%;
    color: black;
    border-bottom: 1px dotted var(--border2);
    cursor: help;
}

abbr {
    text-transform: none;
}

/* Blockquotes */
blockquote {
    margin: 0 0 1.25em;
    padding: 0.5625em 1.25em 0 1.1875em;
    border-left: 1px solid var(--border2);
}

blockquote cite {
    display: block;
    font-size: 0.8125em;
    color: var(--block-quote-color);
}

blockquote cite:before {
    content: "\2014 \0020";
}

blockquote cite a, blockquote cite a:visited {
    color: var(--block-quote-color);
}

blockquote, blockquote p {
    line-height: 1.5;
    color: var(--accent-secondary-color);
}

/* Microformats */
.vcard {
    display: inline-block;
    margin: 0 0 1.25em 0;
    border: 1px solid var(--border2);
    padding: 0.625em 0.75em;
}

.vcard li {
    margin: 0;
    display: block;
}

.vcard .fn {
    font-weight: bold;
    font-size: 0.9375em;
}

.vevent .summary {
    font-weight: bold;
}

.vevent abbr {
    cursor: auto;
    text-decoration: none;
    font-weight: bold;
    border: none;
    padding: 0 0.0625em;
}

@media only screen and (min-width: 768px) {
    h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 {
        line-height: 1.4;
    }

    h1 {
        font-size: 2.75em;
    }

    h2 {
        font-size: 2.3125em;
    }

    h3, #toctitle, .sidebarblock > .content > .title {
        font-size: 1.6875em;
    }

    h4 {
        font-size: 1.4375em;
    }
}

/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only {
    display: none !important;
}

@media print {
    * {
        background: transparent !important;
        color: var(--black-color) !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a, a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {
        content: "";
    }

    pre, blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr, img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p, h2, h3, #toctitle, .sidebarblock > .content > .title {
        orphans: 3;
        widows: 3;
    }

    h2, h3, #toctitle, .sidebarblock > .content > .title {
        page-break-after: avoid;
    }

    .hide-on-print {
        display: none !important;
    }

    .print-only {
        display: block !important;
    }

    .hide-for-print {
        display: none !important;
    }

    .show-for-print {
        display: inherit !important;
    }
}

/* Tables */
table {
    background: white;
    margin-bottom: 1.25em;
    border: solid 0 var(--border2);
}

table thead, table tfoot {
    background: none;
    font-weight: bold;
}

table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td {
    padding: 1px 8px 1px 5px;
    font-size: 1em;
    color: var(--foreground-color);
    text-align: left;
}

table tr th, table tr td {
    padding: 1px 8px 1px 5px;
    font-size: 1em;
    color: var(--foreground-color);
}

table tr.even, table tr.alt, table tr:nth-of-type(even) {
    background: none;
}

table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td {
    display: table-cell;
    line-height: 1.5;
}

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after {
    content: " ";
    display: table;
}

.clearfix:after, .float-group:after {
    clear: both;
}

*:not(pre) > code {
    font-size: 0.95em;
    padding: 0;
    white-space: nowrap;
    background-color: var(--pre-background-color);
    border: 0 solid var(--border2);
    -webkit-border-radius: var(--border-radius-default);
    border-radius: var(--border-radius-default);
    text-shadow: none;
}

pre, pre > code {
    line-height: 1.2;
    color: inherit;
    font-family: "Consolas", "Deja Vu Sans Mono", "Bitstream Vera Sans Mono", monospace;
    font-weight: normal;
}

kbd.keyseq {
    color: var(--dark-gray-color);
}

kbd:not(.keyseq) {
    display: inline-block;
    color: black;
    font-size: 0.75em;
    line-height: 1.4;
    background-color: var(--kdb-background-color);
    border: 1px solid #ccc;
    -webkit-border-radius: 3px;
    border-radius: 3px;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset;
    margin: -0.15em 0.15em 0 0.15em;
    padding: 0.2em 0.6em 0.2em 0.5em;
    vertical-align: middle;
    white-space: nowrap;
}

kbd kbd:first-child {
    margin-left: 0;
}

kbd kbd:last-child {
    margin-right: 0;
}

.menuseq, .menu {
    color: black;
}

p a > code:hover {
    color: var(--link-hover-color);
}

#header, #content, #footnotes, #footer {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    margin-top: 0;
    margin-bottom: 0;
    max-width: 62.5em;
    *zoom: 1;
    position: relative;
    padding-left: 0.9375em;
    padding-right: 0.9375em;
}

#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after {
    content: " ";
    display: table;
}

#header:after, #content:after, #footnotes:after, #footer:after {
    clear: both;
}

#header {
    margin-bottom: 2.5em;
}

#header > h1 {
    color: var(--header-color);
    font-weight: bold;
    border-bottom: 1px solid var(--border2);
    margin-bottom: -28px;
    padding-bottom: 32px;
}

#header span {
    color: var(--accent-secondary-color);
}

#header #revnumber {
    text-transform: capitalize;
}

#header br {
    display: none;
}

#header br + span {
    padding-left: 3px;
}

#header br + span:before {
    content: "\2013 \0020";
}

#header br + span.author {
    padding-left: 0;
}

#header br + span.author:before {
    content: ", ";
}

#toc {
    border-bottom: 1px solid var(--border2);
    padding-bottom: 1.25em;
}

#toc > ul {
    margin-left: 0.25em;
}

#toc ul.sectlevel0 > li > a {
    font-style: italic;
}

#toc ul.sectlevel0 ul.sectlevel1 {
    margin-left: 0;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}

#toc ul {
    list-style-type: none;
}

#toctitle {
    color: var(--accent-primary-color);
}

@media only screen and (min-width: 1280px) {
    body.toc2 {
        padding-left: 20em;
    }

    #toc.toc2 {
        position: fixed;
        width: 20em;
        left: 0;
        top: 0;
        border-right: 1px solid var(--border2);
        border-bottom: 0;
        z-index: 1000;
        padding: 44px 1em 1em;
        height: 100%;
        overflow: auto;
    }

    #toc.toc2 > ul {
        padding-left: 1em;
    }

    #toc.toc2 #toctitle {
        margin-top: 0;
    }

    #toc.toc2 > ul {
        font-size: .95em;
    }

    #toc.toc2 ul ul {
        margin-left: 0;
        padding-left: 1.25em;
    }

    #toc.toc2 ul.sectlevel0 ul.sectlevel1 {
        padding-left: 0;
        margin-top: 0.5em;
        margin-bottom: 0.5em;
    }

    body.toc2.toc-right {
        padding-left: 0;
        padding-right: 20em;
    }

    body.toc2.toc-right #toc.toc2 {
        border-right: 0;
        border-left: 1px solid var(--border2);
        left: auto;
        right: 0;
    }
}

#content #toc {
    border-style: solid;
    border-width: 1px;
    border-color: var(--toc-border-color);
    margin-bottom: 1.25em;
    padding: 1.25em;
    background: var(--pre-background-color);
    border-width: 0;
    -webkit-border-radius: var(--border-radius-default);
    border-radius: var(--border-radius-default);
}

#content #toc > :first-child {
    margin-top: 0;
}

#content #toc > :last-child {
    margin-bottom: 0;
}

#content #toc a {
    color: var(--gray-color);
    text-decoration: none;
}

#content #toctitle {
    font-weight: bold;
    font-family: ff-meta-web-pro-1, ff-meta-web-pro-2, Arial, "Helvetica Neue", sans-serif;
    font-size: 1em;
    padding-left: 0.125em;
}

#footer {
    max-width: 100%;
    background-color: black;
    padding: 1.25em;
}

#footer-text {
    color: white;
    line-height: 1.35;
}

.sect1 {
    padding-bottom: 1.25em;
}

.sect1 + .sect1 {
    border-top: 1px solid var(--border2);
}

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor {
    position: absolute;
    width: 1em;
    margin-left: -1em;
    display: block;
    text-decoration: none;
    visibility: hidden;
    text-align: center;
    font-weight: normal;
}

#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before {
    content: '\00A7';
    font-size: .85em;
    vertical-align: text-top;
    display: block;
    margin-top: 0.05em;
}

#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover {
    visibility: visible;
}

#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link {
    color: var(--accent-primary-color);
    text-decoration: none;
}

#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover {
    color: var(--link-hover-color);
}

.imageblock, .literalblock, .listingblock, .verseblock, .videoblock {
    margin-bottom: 1.25em;
}

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title {
    text-align: left;
    font-weight: bold;
}

.tableblock > caption {
    text-align: left;
    font-weight: bold;
    white-space: nowrap;
    overflow: visible;
    max-width: 0;
}

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p {
    font-size: inherit;
}

.admonitionblock > table {
    border: 0;
    background: none;
    width: 100%;
}

.admonitionblock > table td.icon {
    text-align: center;
    width: 60px;
    padding: 0;
    font-size: 1.5em;
}

.admonitionblock > table td.icon img {
    max-width: none;
}

.admonitionblock > table td.icon .title {
    font-weight: bold;
    text-transform: uppercase;
}

.admonitionblock > table td.content {
    /*padding-left: 1.125em;*/
    /*padding-right: 1.25em;*/
    border-left: 1px solid var(--border2);
    color: var(--accent-secondary-color);
}

.admonitionblock > table td.content > :last-child > :last-child {
    margin-bottom: 0;
}

.exampleblock > .content {
    border-style: solid;
    border-width: 1px;
    border-color: var(--exampleblock-border-color);
    margin-bottom: 1.25em;
    padding: 1.25em;
    background: white;
    -webkit-border-radius: var(--border-radius-default);
    border-radius: var(--border-radius-default);
}

.exampleblock > .content > :first-child {
    margin-top: 0;
}

.exampleblock > .content > :last-child {
    margin-bottom: 0;
}

.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p {
    color: var(--dark-gray-color);
}

.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 {
    line-height: 1;
    margin-bottom: 0.625em;
}

.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader {
    line-height: 1.4;
}

.exampleblock.result > .content {
    -webkit-box-shadow: 0 1px 8px var(--toc-border-color);
    box-shadow: 0 1px 8px var(--toc-border-color);
}

.sidebarblock {
    border-style: solid;
    border-width: 1px;
    border-color: var(--toc-border-color);
    margin-bottom: 1.25em;
    padding: 1.25em;
    background: var(--pre-background-color);
    -webkit-border-radius: var(--border-radius-default);
    border-radius: var(--border-radius-default);
}

.sidebarblock > :first-child {
    margin-top: 0;
}

.sidebarblock > :last-child {
    margin-bottom: 0;
}

.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p {
    color: var(--dark-gray-color);
}

.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 {
    line-height: 1;
    margin-bottom: 0.625em;
}

.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader {
    line-height: 1.4;
}

.sidebarblock > .content > .title {
    color: var(--gray-color);
    margin-top: 0;
    line-height: 1.5;
}

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child {
    margin-bottom: 0;
}

.literalblock > .content pre, .listingblock > .content pre {
    background: #eeeeee;
    border-width: 1px;
    border-style: solid;
    border-color: #cccccc;
    -webkit-border-radius: var(--border-radius-default);
    border-radius: var(--border-radius-default);
    padding: 0.5em;
    word-wrap: break-word;
}

.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap {
    overflow-x: auto;
    white-space: pre;
    word-wrap: normal;
}

.literalblock > .content pre > code, .listingblock > .content pre > code {
    display: block;
}

@media only screen {
    .literalblock > .content pre, .listingblock > .content pre {
        font-size: 0.76em;
    }
}

@media only screen and (min-width: 768px) {
    .literalblock > .content pre, .listingblock > .content pre {
        font-size: 0.855em;
    }
}

@media only screen and (min-width: 1280px) {
    .literalblock > .content pre, .listingblock > .content pre {
        font-size: 0.95em;
    }
}

.listingblock > .content {
    position: relative;
}

.listingblock:hover code[class*=" language-"]:before {
    text-transform: uppercase;
    font-size: 0.9em;
    color: #999;
    position: absolute;
    top: 0.375em;
    right: 0.375em;
}

.listingblock:hover code.asciidoc:before {
    content: "asciidoc";
}

.listingblock:hover code.clojure:before {
    content: "clojure";
}

.listingblock:hover code.css:before {
    content: "css";
}

.listingblock:hover code.groovy:before {
    content: "groovy";
}

.listingblock:hover code.html:before {
    content: "html";
}

.listingblock:hover code.java:before {
    content: "java";
}

.listingblock:hover code.javascript:before {
    content: "javascript";
}

.listingblock:hover code.python:before {
    content: "python";
}

.listingblock:hover code.ruby:before {
    content: "ruby";
}

.listingblock:hover code.scss:before {
    content: "scss";
}

.listingblock:hover code.xml:before {
    content: "xml";
}

.listingblock:hover code.yaml:before {
    content: "yaml";
}

.listingblock.terminal pre .command:before {
    content: attr(data-prompt);
    padding-right: 0.5em;
    color: #999;
}

.listingblock.terminal pre .command:not([data-prompt]):before {
    content: '$';
}

table.pyhltable {
    border: 0;
    margin-bottom: 0;
}

table.pyhltable td {
    vertical-align: top;
    padding-top: 0;
    padding-bottom: 0;
}

table.pyhltable td.code {
    padding-left: .75em;
    padding-right: 0;
}

.highlight.pygments .lineno, table.pyhltable td:not(.code) {
    color: #999;
    padding-left: 0;
    padding-right: .5em;
    border-right: 1px solid var(--border2);
}

.highlight.pygments .lineno {
    display: inline-block;
    margin-right: .25em;
}

table.pyhltable .linenodiv {
    background-color: transparent !important;
    padding-right: 0 !important;
}

.quoteblock {
    margin: 0 0 1.25em;
    padding: 0.5625em 1.25em 0 1.1875em;
    border-left: 1px solid var(--border2);
}

.quoteblock blockquote {
    margin: 0 0 1.25em 0;
    padding: 0 0 0.5625em 0;
    border: 0;
}

.quoteblock blockquote > .paragraph:last-child p {
    margin-bottom: 0;
}

.quoteblock .attribution {
    margin-top: -.25em;
    padding-bottom: 0.5625em;
    font-size: 0.8125em;
    color: var(--block-quote-color);
}

.quoteblock .attribution br {
    display: none;
}

.quoteblock .attribution cite {
    display: block;
    margin-bottom: 0.625em;
}

table thead th, table tfoot th {
    font-weight: bold;
}

table.tableblock.grid-all {
    border-collapse: separate;
    border-spacing: 1px;
    -webkit-border-radius: var(--border-radius-default);
    border-radius: var(--border-radius-default);
    border-top: 0 solid var(--border2);
    border-bottom: 0 solid var(--border2);
}

table.tableblock.frame-topbot, table.tableblock.frame-none {
    border-left: 0;
    border-right: 0;
}

table.tableblock.frame-sides, table.tableblock.frame-none {
    border-top: 0;
    border-bottom: 0;
}

table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child {
    margin-bottom: 0;
}

th.tableblock.halign-left, td.tableblock.halign-left {
    text-align: left;
}

th.tableblock.halign-right, td.tableblock.halign-right {
    text-align: right;
}

th.tableblock.halign-center, td.tableblock.halign-center {
    text-align: center;
}

th.tableblock.valign-top, td.tableblock.valign-top {
    vertical-align: top;
}

th.tableblock.valign-bottom, td.tableblock.valign-bottom {
    vertical-align: bottom;
}

th.tableblock.valign-middle, td.tableblock.valign-middle {
    vertical-align: middle;
}

p.tableblock.header {
    color: var(--foreground-color);
    font-weight: bold;
}

td > div.verse {
    white-space: pre;
}

ol {
    margin-left: 0.25em;
}

ul li ol {
    margin-left: 0;
}

dl dd {
    margin-left: 1.125em;
}

dl dd:last-child, dl dd:last-child > :last-child {
    margin-bottom: 0;
}

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist {
    margin-bottom: 0.625em;
}

ul.unstyled, ol.unnumbered, ul.checklist, ul.none {
    list-style-type: none;
}

ul.unstyled, ol.unnumbered, ul.checklist {
    margin-left: 0.625em;
}

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child {
    margin-right: 0.25em;
}

ul.checklist li > p:first-child > input[type="checkbox"]:first-child {
    position: relative;
    top: 1px;
}

ul.inline {
    margin: 0 auto 0.625em auto;
    margin-left: -1.375em;
    margin-right: 0;
    padding: 0;
    list-style: none;
    overflow: hidden;
}

ul.inline > li {
    list-style: none;
    float: left;
    margin-left: 1.375em;
    display: block;
}

ul.inline > li > * {
    display: block;
}

.unstyled dl dt {
    font-weight: normal;
    font-style: normal;
}

ol.arabic {
    list-style-type: decimal;
}

ol.decimal {
    list-style-type: decimal-leading-zero;
}

ol.loweralpha {
    list-style-type: lower-alpha;
}

ol.upperalpha {
    list-style-type: upper-alpha;
}

ol.lowerroman {
    list-style-type: lower-roman;
}

ol.upperroman {
    list-style-type: upper-roman;
}

ol.lowergreek {
    list-style-type: lower-greek;
}

.hdlist > table, .colist > table {
    border: 0;
    background: none;
}

.hdlist > table > tbody > tr, .colist > table > tbody > tr {
    background: none;
}

td.hdlist1 {
    padding-right: .8em;
    font-weight: bold;
}

td.hdlist1, td.hdlist2 {
    vertical-align: top;
}

.literalblock + .colist, .listingblock + .colist {
    margin-top: -0.5em;
}

.colist > table tr > td:first-of-type {
    padding: 0 .8em;
    line-height: 1;
}

.colist > table tr > td:last-of-type {
    padding: 0.25em 0;
}

.qanda > ol > li > p > em:only-child {
    color: var(--em-color);
}

.thumb, .th {
    line-height: 0;
    display: inline-block;
    border: solid 4px white;
    -webkit-box-shadow: 0 0 0 1px var(--border2);
    box-shadow: 0 0 0 1px var(--border2);
}

.imageblock.left, .imageblock[style*="float: left"] {
    margin: 0.25em 0.625em 1.25em 0;
}

.imageblock.right, .imageblock[style*="float: right"] {
    margin: 0.25em 0 1.25em 0.625em;
}

.imageblock > .title {
    margin-bottom: 0;
}

.imageblock.thumb, .imageblock.th {
    border-width: var(--border-radius-default);
}

.imageblock.thumb > .title, .imageblock.th > .title {
    padding: 0 0.125em;
}

.image.left, .image.right {
    margin-top: 0.25em;
    margin-bottom: 0.25em;
    display: inline-block;
    line-height: 0;
}

.image.left {
    margin-right: 0.625em;
}

.image.right {
    margin-left: 0.625em;
}

a.image {
    text-decoration: none;
}

span.footnote, span.footnoteref {
    vertical-align: super;
    font-size: 0.875em;
}

span.footnote a, span.footnoteref a {
    text-decoration: none;
}

#footnotes {
    padding-top: 0.75em;
    padding-bottom: 0.75em;
    margin-bottom: 0.625em;
}

#footnotes hr {
    width: 20%;
    min-width: 6.25em;
    margin: -.25em 0 .75em 0;
    border-width: 1px 0 0 0;
}

#footnotes .footnote {
    padding: 0 0.375em;
    line-height: 1.3;
    font-size: 0.875em;
    margin-left: 1.2em;
    text-indent: -1.2em;
    margin-bottom: .2em;
}

#footnotes .footnote a:first-of-type {
    font-weight: bold;
    text-decoration: none;
}

#footnotes .footnote:last-of-type {
    margin-bottom: 0;
}

#content #footnotes {
    margin-top: -0.625em;
    margin-bottom: 0;
    padding: 0.75em 0;
}

.gist .file-data > table {
    border: none;
    background: var(--background);
    width: 100%;
    margin-bottom: 0;
}

.gist .file-data > table td.line-data {
    width: 99%;
}

div.unbreakable {
    page-break-inside: avoid;
}

.big {
    font-size: larger;
}

.small {
    font-size: smaller;
}

.underline {
    text-decoration: underline;
}

.overline {
    text-decoration: overline;
}

.line-through {
    text-decoration: line-through;
}

.aqua {
    color: #00bfbf;
}

.aqua-background {
    background-color: #00fafa;
}

.black {
    color: black;
}

.black-background {
    background-color: black;
}

.blue {
    color: #0000bf;
}

.blue-background {
    background-color: #0000fa;
}

.fuchsia {
    color: #bf00bf;
}

.fuchsia-background {
    background-color: #fa00fa;
}

.gray {
    color: #606060;
}

.gray-background {
    background-color: #7d7d7d;
}

.green {
    color: #006000;
}

.green-background {
    background-color: #007d00;
}

.lime {
    color: #00bf00;
}

.lime-background {
    background-color: #00fa00;
}

.maroon {
    color: #600000;
}

.maroon-background {
    background-color: #7d0000;
}

.navy {
    color: #000060;
}

.navy-background {
    background-color: #00007d;
}

.olive {
    color: #606000;
}

.olive-background {
    background-color: #7d7d00;
}

.purple {
    color: #600060;
}

.purple-background {
    background-color: #7d007d;
}

.red {
    color: #bf0000;
}

.red-background {
    background-color: #fa0000;
}

.silver {
    color: #909090;
}

.silver-background {
    background-color: #bcbcbc;
}

.teal {
    color: #006060;
}

.teal-background {
    background-color: #007d7d;
}

.white {
    color: #bfbfbf;
}

.white-background {
    background-color: #fafafa;
}

.yellow {
    color: #bfbf00;
}

.yellow-background {
    background-color: #fafa00;
}

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] {
    cursor: default;
}


.admonitionblock td.icon [class^="icon-"]:before {
    font-size: 2.5em;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    cursor: default;
}

.admonitionblock td.icon .icon-note:before {
    content: "\f05a";
    color: var(--accent-primary-color);
}

.admonitionblock td.icon .icon-tip:before {
    content: "\f0eb";
    /*text-shadow: 1px 1px 2px var(--accent-primary-color);*/
    color: var(--accent-primary-color);
}

.fa {
    font-family: "FontAwesome", "Helvetica Neue", sans-serif;
}

.admonitionblock td.icon .icon-warning:before {
    content: "\f071";
    color: #bf6900;
}

.admonitionblock td.icon .icon-caution:before {
    content: "\f06d";
    color: #bf3400;
}

.admonitionblock td.icon .icon-important:before {
    content: "\f06a";
    color: #bf0000;
}

.conum {
    display: inline-block;
    color: white !important;
    background-color: black;
    -webkit-border-radius: 100px;
    border-radius: 100px;
    text-align: center;
    width: 20px;
    height: 20px;
    font-size: 12px;
    font-weight: bold;
    line-height: 20px;
    font-family: Arial, sans-serif;
    font-style: normal;
    position: relative;
    top: -2px;
    letter-spacing: -1px;
}

.conum * {
    color: white !important;
}

.conum + b {
    display: none;
}

.conum:after {
    content: attr(data-value);
}

.conum:not([data-value]):empty {
    display: none;
}

h4 {
    color: var(--gray-color);
}

.literalblock > .content > pre, .listingblock > .content > pre {
    -webkit-border-radius: var(--border-radius-default);
    border-radius: var(--border-radius-default);
    margin-left: 0.5em;
    margin-right: 0.5em;
}

.admonitionblock {
    margin-left: .5em;
    margin-right: .5em;
}

.admonitionblock > table {
    border: 1px solid var(--accent-primary-color);
    border-left-width: 4px;
    background-color: var(--admotion-background-color);
    border-collapse: separate;
    -webkit-border-radius: var(--border-radius-default);
    border-radius: var(--border-radius-default);
}

.admonitionblock > table td.icon {
    padding-top: .5em;
    padding-bottom: .5em;
}

.admonitionblock > table td.content {
    padding: .5em .2em;
    color: black;
    font-size: .9em;
    border-left: none;
}

.sidebarblock {
    background-color: var(--sidebar-background-color);
    border-color: #ccc;
}

.sidebarblock > .content > .title {
    color: var(--link-color-default);
}

table.tableblock.grid-all {
    border-collapse: collapse;
    -webkit-border-radius: 0;
    border-radius: 0;
}

table.tableblock.grid-all th.tableblock, table.tableblock.grid-all td.tableblock {
    border-bottom: 1px solid #aaa;
}

#footer {
    background-color: var(--accent-primary-color);
    padding: 2em;
}

#footer-text {
    color: #eee;
    font-size: 0.8em;
    text-align: center;
}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .ges {
  font-weight: bold;
  font-style: italic;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Commands Example</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_before_we_start">Before we start</a>
<ul class="sectlevel2">
<li><a href="#_icommand">ICommand</a></li>
</ul>
</li>
<li><a href="#_solution_1_use_reactiveui">Solution 1: Use ReactiveUI</a>
<ul class="sectlevel2">
<li><a href="#_step_1_create_a_new_avalonia_mvvm_application">Step 1: Create a new Avalonia MVVM Application</a></li>
<li><a href="#_step_2_add_a_viewmodel">Step 2: Add a ViewModel</a></li>
<li><a href="#_step_3_create_the_open_the_pod_bay_doors_command">Step 3: Create the "Open the POD bay doors" - Command</a></li>
<li><a href="#_step_4_create_the_fellow_robot_command">Step 4: Create the "Fellow Robot" - Command</a></li>
<li><a href="#_step_5_create_open_the_pod_bay_sequence_async_command">Step 5: Create "Open the Pod Bay sequence" - Async Command</a></li>
<li><a href="#Solution1-Step6">Step 6: Setting up the User Interface</a></li>
<li><a href="#_step_7_see_it_in_action">Step 7: See it in action</a></li>
</ul>
</li>
<li><a href="#_solution_2_use_communitytookit_mvvm">Solution 2: Use CommunityTookit-MVVM</a>
<ul class="sectlevel2">
<li><a href="#_step_1_add_a_viewmodel">Step 1: Add a ViewModel</a></li>
<li><a href="#_step_2_create_the_open_the_pod_bay_doors_command">Step 2: Create the "Open the POD bay doors" - Command</a></li>
<li><a href="#_step_3_create_the_fellow_robot_command">Step 3: Create the "Fellow Robot" - Command</a></li>
<li><a href="#_step_4_create_open_the_pod_bay_sequence_async_command">Step 4: Create "Open the Pod Bay sequence" - Async Command</a></li>
<li><a href="#_step_5_setting_up_the_user_interface">Step 5: Setting up the User Interface</a></li>
<li><a href="#_step_6_see_it_in_action">Step 6: See it in action</a></li>
</ul>
</li>
<li><a href="#_related">Related</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This example will show you how you can use <code>Commands</code> to invoke methods in your <code>ViewModel</code> from your user interface.</p>
</div>
<!-- toc disabled -->
<h3 id="_difficulty" class="discrete">Difficulty</h3>
<div class="paragraph">
<p>üê£ Beginner üê£</p>
</div>
<h3 id="_buzz_words" class="discrete">Buzz-Words</h3>
<div class="paragraph">
<p>Command, ICommand, CommandParameter, MVVM, ReactiveCommand, RelayCommand, async-await</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_before_we_start">Before we start</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this sample we assume that you know what a <code>Binding</code> is and that you have a basic knowledge of the <code>MVVM</code> concepts. Moreover you should already know how to create a new Avalonia project.</p>
</div>
<div class="paragraph">
<p>In case you want to refresh your knowledge, visit the <a href="../BasicMvvmSample">[Basic MVVM Sample]</a>.</p>
</div>
<div class="sect2">
<h3 id="_icommand">ICommand</h3>
<div class="paragraph">
<p>If a class implements the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.input.icommand?view=net-6.0">[<code>ICommand</code>]</a> interface it can be used to execute a <code>Method</code> in your <code>Model</code> or <code>ViewModel</code>.  Moreover, the interface allows you to easily enable or disable the <code>Control</code> (most often a <code>Button</code>), that your <code>Command</code> is bound to.</p>
</div>
<div class="paragraph">
<p>The interface has three members:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">CanExecute(Object)</dt>
<dd>
<p>Defines the method that determines whether the command can execute in its current state.</p>
</dd>
<dt class="hdlist1">Execute(Object)</dt>
<dd>
<p>Defines the method to be called when the command is invoked.</p>
</dd>
<dt class="hdlist1">CanExecuteChanged-Event</dt>
<dd>
<p>Occurs when changes occur that affect whether or not the command should execute.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>Definitions copied from <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.input.icommand?view=net-6.0" class="bare">https://docs.microsoft.com/en-us/dotnet/api/system.windows.input.icommand?view=net-6.0</a></em></p>
</div>
<div class="sect3">
<h4 id="_reactivecommand_and_relaycommand">ReactiveCommand and RelayCommand</h4>
<div class="paragraph">
<p>There are many MVVM-packages available that already have implemented the interface for us. In this sample we will use these two options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">ReactiveUI</dt>
<dd>
<p>This library ships <a href="https://www.reactiveui.net/docs/handbook/commands/">[<code>ReactiveCommand</code>]</a>.</p>
</dd>
<dt class="hdlist1">CommunityToolkit-MVVM</dt>
<dd>
<p>This library ships <a href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/relaycommand">[<code>RelayCommand</code>]</a> and <a href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/asyncrelaycommand">[<code>AsyncRelayCommand</code>]</a>. In addition it provides a <a href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/generators/relaycommand">[<code>source generator</code>]</a> to reduce the boilerplate code needed.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_commands_and_long_running_tasks">Commands and long running Tasks</h4>
<div class="paragraph">
<p>Some <code>MVVM</code>-libs, provide an async implementations of the <code>ICommand</code> interface. That way we can execute long running tasks from our UI without blocking the UI.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_solution_1_use_reactiveui">Solution 1: Use ReactiveUI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this sample, we will give commands to HAL-9000, a stubborn computer, in a homage to the famous "Open the POD bay doors" scene from the movie "2001 A Space Odyssey".</p>
</div>
<div class="sect2">
<h3 id="_step_1_create_a_new_avalonia_mvvm_application">Step 1: Create a new Avalonia MVVM Application</h3>
<div class="paragraph">
<p>Create a new Project using the <code>Avalonia MVVM Application</code>-Template</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In case you don&#8217;t have ReactiveUI installed, add it to your nuget-packages and make sure you have added this line in <code>Program.cs</code>:</p>
</div>
<div class="listingblock">
<div class="title">Program.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="diff">    public static AppBuilder BuildAvaloniaApp()
        =&gt; AppBuilder.Configure&lt;App&gt;()
            .UsePlatformDetect()
            .LogToTrace()
<span class="gi">+           .UseReactiveUI();</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_add_a_viewmodel">Step 2: Add a ViewModel</h3>
<div class="paragraph">
<p>Add a new class into the <code>ViewModels</code>-folder called <code>ReactiveUiCommandsViewModel</code>. This class should inherit <code>ViewModelBase</code> or <code>ReactiveObject</code>.
Now open the file <code>ViewModels ‚ñ∫ MainWindowViewModel.cs</code> or <code>MainViewModel</code> and add a new instance of the newly created class to it.</p>
</div>
<div class="listingblock">
<div class="title">MainViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">MainViewModel</span> <span class="p">:</span> <span class="n">ViewModelBase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">ReactiveUiCommandsViewModel</span> <span class="n">ReactiveUiCommandsViewModel</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ReactiveUiCommandsViewModel</span><span class="p">();</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to store a record of our conversation with HAL-9000.  We use an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.objectmodel.observablecollection-1?view=net-6.0"><code>[ObservableCollection]</code></a>, because this collection will notify our UI whenever a line was added or removed. In the file <code>ReactiveUiCommandsViewModel</code> add the following lines:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">///  This collection will store what the computer said</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="n">ObservableCollection</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">ConversationLog</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ObservableCollection</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>

<span class="c1">// Just a helper to add content to ConversationLog</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">AddToConvo</span><span class="p">(</span><span class="kt">string</span> <span class="n">content</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ConversationLog</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">content</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Since HAL-9000 is not likely to listen to us, we also want to have the suggestion come
from a fellow robot. We want a field to put in the robot&#8217;s name. Let&#8217;s add a property:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">// Backing field for RobotName</span>
<span class="k">private</span> <span class="kt">string</span><span class="p">?</span> <span class="n">_RobotName</span><span class="p">;</span>

<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// The name of a robot. If the name is null or empty, there is no other robot present.</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="kt">string</span><span class="p">?</span> <span class="n">RobotName</span>
<span class="p">{</span>
    <span class="k">get</span> <span class="p">=&gt;</span> <span class="n">_RobotName</span><span class="p">;</span>
    <span class="k">set</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nf">RaiseAndSetIfChanged</span><span class="p">(</span><span class="k">ref</span> <span class="n">_RobotName</span><span class="p">,</span> <span class="k">value</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_create_the_open_the_pod_bay_doors_command">Step 3: Create the "Open the POD bay doors" - Command</h3>
<div class="paragraph">
<p>In the <code>ViewModel`</code> add a new read-only property of type <code>ICommand</code>. We use the interface instead of the specialized class, because it is more flexible. For example You can easily replace it with an async implementation if you need to.</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// This command will ask HAL-9000 to open the pod bay doors</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="n">ICommand</span> <span class="n">OpenThePodBayDoorsDirectCommand</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we will create a method which will be executed when the <code>Command</code> is invoked:</p>
</div>
<div class="paragraph">
<p>HAL responds to the human named "Dave" that he can&#8217;t do that.
This is a famous line from the movie.</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">// The method that will be executed when the command is invoked</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">OpenThePodBayDoors</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ConversationLog</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="nf">AddToConvo</span><span class="p">(</span> <span class="s">"I'm sorry, Dave, I'm afraid I can't do that."</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Last but not least we need to initialize our <code>Command</code> before we can use it. We will do this in our <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/constructors"><code>[Constructor]</code></a> as shown below. We create our Commands using <a href="https://www.reactiveui.net/docs/handbook/commands/"><code>[ReactiveCommand.Create())]</code></a> method which will take a method or a lambda as parameter.</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">public</span> <span class="nf">ReactiveUiCommandsViewModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Init OpenThePodBayDoorsDirectCommand</span>
    <span class="n">OpenThePodBayDoorsDirectCommand</span> <span class="p">=</span> <span class="n">ReactiveCommand</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">OpenThePodBayDoors</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_4_create_the_fellow_robot_command">Step 4: Create the "Fellow Robot" - Command</h3>
<div class="paragraph">
<p>Perhaps we will have more luck if the command is given by a fellow robot.</p>
</div>
<div class="paragraph">
<p>This <code>Command</code> is very similar to the one above. This time we will use a <code>CommandParameter</code> which is the name of another robot, but in fact it can be any <code>object</code> depending on your needs. We will also use the <code>CommandParameter</code> to enable or disable the <code>Command</code>, depending on the state of the parameter.</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// This command will ask HAL to open the pod bay doors, but this time we</span>
<span class="c1">/// check that the command is issued by a fellow robot (really any non-null name)</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="n">ICommand</span> <span class="n">OpenThePodBayDoorsFellowRobotCommand</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Our method will look like this:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">private</span> <span class="k">void</span> <span class="nf">OpenThePodBayDoorsFellowRobot</span><span class="p">(</span><span class="kt">string</span><span class="p">?</span> <span class="n">robotName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ConversationLog</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="nf">AddToConvo</span><span class="p">(</span> <span class="s">$"Hello </span><span class="p">{</span><span class="n">robotName</span><span class="p">}</span><span class="s">, the Pod Bay is open :-)"</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We use string interpolation in the above method. If you want to learn more about it visit <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated">[Microsoft Docs]</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Again we have to initialize our command in the constructor. We will first create an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.iobservable-1?view=net-6.0">[<code>Observable</code>]</a> using <code>ReactiveUI&#8217;s</code> <a href="https://www.reactiveui.net/docs/handbook/when-any/#watching-single-property">[<code>WhenAnyValue</code>]</a> which will listen to <code>RobotName</code>. The <code>Observable</code> will automatically enable our <code>Command</code> whenever <code>RobotName</code> is not null or empty and disable the <code>Command</code> whenever <code>RobotName</code> is <code>null</code> or empty. Add the following lines to our constructor:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">public</span> <span class="nf">ReactiveUiCommandsViewModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// The IObservable&lt;bool&gt; is needed to enable or disable the command depending on valid parameters</span>
    <span class="c1">// The Observable listens to RobotName and will enable the Command if the name is not empty.</span>
    <span class="n">IObservable</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="n">canExecuteFellowRobotCommand</span> <span class="p">=</span>
        <span class="k">this</span><span class="p">.</span><span class="nf">WhenAnyValue</span><span class="p">(</span><span class="n">vm</span> <span class="p">=&gt;</span> <span class="n">vm</span><span class="p">.</span><span class="n">RobotName</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">!</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>

    <span class="n">OpenThePodBayDoorsFellowRobotCommand</span> <span class="p">=</span>
        <span class="n">ReactiveCommand</span><span class="p">.</span><span class="n">Create</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">?&gt;(</span><span class="n">name</span> <span class="p">=&gt;</span> <span class="nf">OpenThePodBayDoorsFellowRobot</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">canExecuteFellowRobotCommand</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This time we used <code>ReactiveCommand.Create&lt;string?&gt;</code>. the part between <code>&lt;&gt;</code> defines the expected type of our <code>CommandParameter</code> and can be any type you like.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_step_5_create_open_the_pod_bay_sequence_async_command">Step 5: Create "Open the Pod Bay sequence" - Async Command</h3>
<div class="paragraph">
<p>Many operations have multiple steps and we want to keep the user interface responsive while
we wait for sequence of operations to complete. One way to do this in <code>C#</code> is to use <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/">[<code>async / await</code>]</a> in combination with <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=net-6.0">[<code>Tasks</code>]</a> to run things in the background while not blocking the UI.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s add the <code>Command</code> and the <code>Task</code> to our <code>ViewModel</code>:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">// This method is an async Task because opening the pod bay doors can take long time.</span>
<span class="c1">// We don't want our UI to become unresponsive.</span>
<span class="k">private</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">OpenThePodBayDoorsAsync</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ConversationLog</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="nf">AddToConvo</span><span class="p">(</span> <span class="s">"Preparing to open the Pod Bay..."</span><span class="p">);</span>
    <span class="c1">// wait a second</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Delay</span><span class="p">(</span><span class="m">1000</span><span class="p">);</span>

    <span class="nf">AddToConvo</span><span class="p">(</span> <span class="s">"Depressurizing Airlock..."</span><span class="p">);</span>
    <span class="c1">// wait 2 seconds</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Delay</span><span class="p">(</span><span class="m">2000</span><span class="p">);</span>

    <span class="nf">AddToConvo</span><span class="p">(</span> <span class="s">"Retracting blast doors..."</span><span class="p">);</span>
    <span class="c1">// wait 2 more seconds</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Delay</span><span class="p">(</span><span class="m">2000</span><span class="p">);</span>

    <span class="nf">AddToConvo</span><span class="p">(</span><span class="s">"Pod Bay is open to space!"</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Initiating the async <code>Command</code> in the constructor is very similar to how you init a sync <code>Command</code>, except we use <code>CreateFromTask</code> instead of <code>Create</code>:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">public</span> <span class="nf">ReactiveUiCommandsViewModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Init OpenThePodBayDoorsAsyncCommand</span>
    <span class="n">OpenThePodBayDoorsAsyncCommand</span> <span class="p">=</span> <span class="n">ReactiveCommand</span><span class="p">.</span><span class="nf">CreateFromTask</span><span class="p">(</span><span class="n">OpenThePodBayDoorsAsync</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When you execute this command, notice that the <code>Button</code> is disabled until the <code>Task</code> is finished, so you can&#8217;t ask for the pod bay doors to open again while the opening sequence is running. A more complete program could keep track of the state of the Pod Bay and change the button to "close".
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Solution1-Step6">Step 6: Setting up the User Interface</h3>
<div class="paragraph">
<p>Add a new <code>UserControl</code> into the <code>Views</code> folder called <code>ReactiveUiCommandsSampleView</code>. We will add three <code>Buttons</code> where we bind <code>Button.Command</code> to the <code>ICommands</code> we prepared in the <code>ViewModel</code>. The second <code>Button</code> will also get a binding to <code>Button.CommandParameter</code>.</p>
</div>
<div class="paragraph">
<p>The first <code>Button</code> looks like this:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsSampleView.axaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="c">&lt;!-- This button will ask HAL to open the doors --&gt;</span>
<span class="nt">&lt;Button</span> <span class="na">Command=</span><span class="s">"{Binding OpenThePodBayDoorsDirectCommand}"</span>
        <span class="na">Content=</span><span class="s">"Open the pod bay doors, HAL."</span> <span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The second <code>Button</code> will have a <code>CommandParameter</code> defined and more over the <code>Content</code> will change dynamically. The <code>Button</code> is rendered next to a <code>TextBox</code>, where we can enter the name of a <code>Robot</code>:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsSampleView.axaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="c">&lt;!-- This button will ask HAL to open the doors for a fellow robot --&gt;</span>
<span class="c">&lt;!-- We use CommandParameter to provide the name of the robot --&gt;</span>
<span class="c">&lt;!-- Note that the button is automatically disabled if we don't enter a name--&gt;</span>
<span class="nt">&lt;StackPanel</span> <span class="na">Orientation=</span><span class="s">"Horizontal"</span> <span class="na">Spacing=</span><span class="s">"5"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;TextBox</span> <span class="na">Text=</span><span class="s">"{Binding RobotName}"</span> <span class="na">Watermark=</span><span class="s">"Robot Name"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Button</span> <span class="na">Command=</span><span class="s">"{Binding OpenThePodBayDoorsFellowRobotCommand}"</span>
            <span class="na">Content=</span><span class="s">"{Binding RobotName, StringFormat='Open the Pod Bay for {0}'}"</span>
            <span class="na">CommandParameter=</span><span class="s">"{Binding RobotName}"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/StackPanel&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The third <code>Button</code> will bind to our <code>async Command</code>:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsSampleView.axaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="c">&lt;!-- This button will ask start a multi-step sequence to open the doors --&gt;</span>
<span class="c">&lt;!-- As this is a long operation, the command is async.--&gt;</span>
<span class="c">&lt;!-- HAL inform us about the current progress of the doors.--&gt;</span>
<span class="nt">&lt;Button</span> <span class="na">Command=</span><span class="s">"{Binding OpenThePodBayDoorsAsyncCommand}"</span>
        <span class="na">Content=</span><span class="s">"Start Pod Bay Opening Sequence"</span> <span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We can also bind <code>Button.Command</code> to any <code>Method</code>. To demonstrate that we added another <code>Button</code> which we can use to clear the recent conversation log.</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsSampleView.axaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="c">&lt;!-- This button will clear the recent conversation log --&gt;</span>
<span class="nt">&lt;Button</span> <span class="na">Grid.Column=</span><span class="s">"1"</span>
        <span class="na">VerticalAlignment=</span><span class="s">"Stretch"</span> <span class="na">VerticalContentAlignment=</span><span class="s">"Center"</span>
        <span class="na">Background=</span><span class="s">"Transparent"</span>
        <span class="na">Command=</span><span class="s">"{Binding ConversationLog.Clear}"</span>
        <span class="na">Content=</span><span class="s">"‚ùå"</span><span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s put all together. Our <code>View</code> will finally look like this:</p>
</div>
<div class="listingblock">
<div class="title">ReactiveUiCommandsSampleView.axaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;UserControl</span> <span class="na">xmlns=</span><span class="s">"https://github.com/avaloniaui"</span>
             <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
             <span class="na">xmlns:d=</span><span class="s">"http://schemas.microsoft.com/expression/blend/2008"</span>
             <span class="na">xmlns:mc=</span><span class="s">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
             <span class="na">xmlns:viewModels=</span><span class="s">"clr-namespace:CommandSample.ViewModels"</span>
             <span class="na">mc:Ignorable=</span><span class="s">"d"</span> <span class="na">d:DesignWidth=</span><span class="s">"800"</span> <span class="na">d:DesignHeight=</span><span class="s">"450"</span>
             <span class="na">x:DataType=</span><span class="s">"viewModels:ReactiveUiCommandsViewModel"</span>
             <span class="na">x:Class=</span><span class="s">"CommandSample.Views.ReactiveUiCommandsSampleView"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Design.DataContext&gt;</span>
        <span class="nt">&lt;viewModels:ReactiveUiCommandsViewModel/&gt;</span>
    <span class="nt">&lt;/Design.DataContext&gt;</span>

    <span class="nt">&lt;Grid</span> <span class="na">RowDefinitions=</span><span class="s">"Auto, Auto, *"</span> <span class="na">ColumnDefinitions=</span><span class="s">"Auto, *"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;TextBlock</span> <span class="na">Grid.Column=</span><span class="s">"0"</span> <span class="na">Grid.Row=</span><span class="s">"0"</span>
                   <span class="na">Text=</span><span class="s">"Command:"</span>
                   <span class="na">FontWeight=</span><span class="s">"Bold"</span>
                   <span class="na">VerticalAlignment=</span><span class="s">"Center"</span>
                   <span class="na">Margin=</span><span class="s">"5"</span> <span class="nt">/&gt;</span>

        <span class="nt">&lt;StackPanel</span> <span class="na">Grid.Column=</span><span class="s">"1"</span> <span class="na">Grid.Row=</span><span class="s">"0"</span>
                    <span class="na">Spacing=</span><span class="s">"5"</span> <span class="na">Margin=</span><span class="s">"5"</span> <span class="nt">&gt;</span>

            <span class="c">&lt;!-- This button will ask HAL to open the doors --&gt;</span>
            <span class="nt">&lt;Button</span> <span class="na">Command=</span><span class="s">"{Binding OpenThePodBayDoorsDirectCommand}"</span>
                    <span class="na">Content=</span><span class="s">"Open the pod bay doors, HAL."</span> <span class="nt">/&gt;</span>

            <span class="c">&lt;!-- This button will ask HAL to open the doors for a fellow robot --&gt;</span>
            <span class="c">&lt;!-- We use CommandParameter to provide the name of the robot --&gt;</span>
            <span class="c">&lt;!-- Note that the button is automatically disabled if we don't enter a name--&gt;</span>
            <span class="nt">&lt;StackPanel</span> <span class="na">Orientation=</span><span class="s">"Horizontal"</span> <span class="na">Spacing=</span><span class="s">"5"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;TextBox</span> <span class="na">Text=</span><span class="s">"{Binding RobotName}"</span> <span class="na">Watermark=</span><span class="s">"Robot Name"</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;Button</span> <span class="na">Command=</span><span class="s">"{Binding OpenThePodBayDoorsFellowRobotCommand}"</span>
                        <span class="na">Content=</span><span class="s">"{Binding RobotName, StringFormat='Open the Pod Bay for {0}'}"</span>
                        <span class="na">CommandParameter=</span><span class="s">"{Binding RobotName}"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/StackPanel&gt;</span>

            <span class="c">&lt;!-- This button will ask start a multi-step sequence to open the doors --&gt;</span>
            <span class="c">&lt;!-- As this is a long operation, the command is async.--&gt;</span>
            <span class="c">&lt;!-- HAL inform us about the current progress of the doors.--&gt;</span>
            <span class="c">&lt;!-- Note: The button will be disabled while the process is running. --&gt;</span>
            <span class="nt">&lt;Button</span> <span class="na">Command=</span><span class="s">"{Binding OpenThePodBayDoorsAsyncCommand}"</span>
                    <span class="na">Content=</span><span class="s">"Start Pod Bay Opening Sequence"</span> <span class="nt">/&gt;</span>

        <span class="nt">&lt;/StackPanel&gt;</span>

        <span class="nt">&lt;Separator</span> <span class="na">Grid.Row=</span><span class="s">"1"</span> <span class="na">Grid.ColumnSpan=</span><span class="s">"2"</span>
                   <span class="na">HorizontalAlignment=</span><span class="s">"Stretch"</span>
                   <span class="na">Margin=</span><span class="s">"5"</span>
                   <span class="na">Height=</span><span class="s">"2"</span>
                   <span class="na">Background=</span><span class="s">"LightGray"</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;TextBlock</span> <span class="na">Grid.Column=</span><span class="s">"0"</span> <span class="na">Grid.Row=</span><span class="s">"2"</span>
                   <span class="na">Text=</span><span class="s">"HAL 9000:"</span>
                   <span class="na">FontWeight=</span><span class="s">"Bold"</span>
                   <span class="na">Margin=</span><span class="s">"5"</span>
                   <span class="na">VerticalAlignment=</span><span class="s">"Center"</span><span class="nt">/&gt;</span>

        <span class="c">&lt;!-- This is the area where the output of HAL9000 is rendered --&gt;</span>
        <span class="nt">&lt;Border</span> <span class="na">Grid.Column=</span><span class="s">"1"</span> <span class="na">Grid.Row=</span><span class="s">"2"</span>
                <span class="na">CornerRadius=</span><span class="s">"10"</span> <span class="na">Margin=</span><span class="s">"5"</span>
                <span class="na">BorderThickness=</span><span class="s">"1"</span> <span class="na">BorderBrush=</span><span class="s">"{DynamicResource SystemAccentColor}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Grid</span> <span class="na">ColumnDefinitions=</span><span class="s">"*,Auto"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;ItemsControl</span> <span class="na">Margin=</span><span class="s">"5"</span>
                              <span class="na">ItemsSource=</span><span class="s">"{Binding ConversationLog}"</span> <span class="nt">/&gt;</span>

                <span class="c">&lt;!-- This button will clear the recent conversation log--&gt;</span>
                <span class="c">&lt;!-- which is not supported via CompiledBinding.                                 --&gt;</span>
                <span class="nt">&lt;Button</span> <span class="na">Grid.Column=</span><span class="s">"1"</span>
                        <span class="na">VerticalAlignment=</span><span class="s">"Stretch"</span> <span class="na">VerticalContentAlignment=</span><span class="s">"Center"</span>
                        <span class="na">Background=</span><span class="s">"Transparent"</span>
                        <span class="na">Command=</span><span class="s">"{Binding ConversationLog.Clear}"</span>
                        <span class="na">Content=</span><span class="s">"‚ùå"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/Grid&gt;</span>
        <span class="nt">&lt;/Border&gt;</span>
    <span class="nt">&lt;/Grid&gt;</span>
<span class="nt">&lt;/UserControl&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>UserControl</code> itself will be added into the file <code>Views ‚ñ∫ MainWindow</code> or <code>MainView</code>, depending on the template used to create this App.</p>
</div>
<div class="listingblock">
<div class="title">MainWindow.axaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;TabControl&gt;</span>
	<span class="nt">&lt;TabItem</span> <span class="na">Header=</span><span class="s">"ReactiveUI"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;views:ReactiveUiCommandsSampleView</span> <span class="na">DataContext=</span><span class="s">"{Binding ReactiveUiCommandsViewModel}"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/TabItem&gt;</span>
<span class="nt">&lt;/TabControl&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_7_see_it_in_action">Step 7: See it in action</h3>
<div class="paragraph">
<p>In your IDE press <code>Run</code> or <code>Debug</code> and try the sample out. Notice how the <code>Buttons</code> will be enabled and disabled automatically.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_docs/command_sample_result.gif" alt="Result">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_solution_2_use_communitytookit_mvvm">Solution 2: Use CommunityTookit-MVVM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this sample we will show you how to reduce the needed boilerplate code by using the source generators provided.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you don&#8217;t know what a source generator does, you can learn more about it <a href="https://learn.microsoft.com/en-us/shows/on-dotnet/c-source-generators">[here]</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_step_1_add_a_viewmodel">Step 1: Add a ViewModel</h3>
<div class="paragraph">
<p>Add a new class into the <code>ViewModels</code>-folder called <code>CommunityToolkitCommandsViewModel</code>. This class should inherit <code>ViewModelBase</code> or <code>ObservableObject</code>.
Now open the file <code>ViewModels ‚ñ∫ MainWindowViewModel.cs</code> or <code>MainViewModel</code> and add a new instance of the newly created class to it.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Since our above model was using <code>ReativeUI</code>, our <code>ViewModelBase</code> inherits <code>ReactiveObject</code>. Therefore, we either need to change this or inherit <code>ObservableObject</code> directly.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We want to use source generators here. To make this work, our class must be marked as <code>partial</code>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">CommunityToolkitCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">CommunityToolkitCommandsViewModel</span> <span class="p">:</span> <span class="n">ObservableObject</span>
<span class="p">{</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">MainViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">MainViewModel</span> <span class="p">:</span> <span class="n">ViewModelBase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">CommunityToolkitCommandsViewModel</span> <span class="n">CommunityToolkitCommandsViewModel</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CommunityToolkitCommandsViewModel</span><span class="p">();</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to store a record of our conversation with HAL-9000.  We use an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.objectmodel.observablecollection-1?view=net-6.0"><code>[ObservableCollection]</code></a>, because this collection will notify out UI whenever a line was added or removed. In the file <code>CommunityToolkitCommandsViewModel</code> add the following lines:</p>
</div>
<div class="listingblock">
<div class="title">CommunityToolkitCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">///  This collection will store what the computer said</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="n">ObservableCollection</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">ConversationLog</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ObservableCollection</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>

<span class="c1">// Just a helper to add content to ConversationLog</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">AddToConvo</span><span class="p">(</span><span class="kt">string</span> <span class="n">content</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ConversationLog</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">content</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Since HAL-9000 is not likely to listen to us, we also want to have the suggestion come
from a fellow robot. We want a field to put in the robot&#8217;s name. Let&#8217;s add a property:</p>
</div>
<div class="listingblock">
<div class="title">CommunityToolkitCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// The name of a robot. If the name is null or empty, there is no other robot present.</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="p">[</span><span class="n">ObservableProperty</span><span class="p">]</span>
<span class="k">private</span> <span class="kt">string</span><span class="p">?</span> <span class="n">_robotName</span><span class="p">;</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Learn more about the <a href="https://learn.microsoft.com/de-de/dotnet/communitytoolkit/mvvm/generators/observableproperty">[<code>ObservableProperty</code>]</a>-attribute.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_create_the_open_the_pod_bay_doors_command">Step 2: Create the "Open the POD bay doors" - Command</h3>
<div class="paragraph">
<p>In the <code>ViewModel</code>, we use the <a href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/generators/relaycommand">[<code>RelayCommand</code>]</a> attribute to create commands.
The <a href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/generators/relaycommand">[<code>RelayCommand</code>]</a> attribute instructs the MVVM Toolkit to automatically generate an <code>IRelayCommand</code> property that wraps the annotated method.
Even though you don‚Äôt write this property yourself, you can bind to it directly from XAML because it‚Äôs generated automatically at compile time.</p>
</div>
<div class="paragraph">
<p>Now we will create a method which will be executed when the <code>RelayCommand</code> is invoked.</p>
</div>
<div class="listingblock">
<div class="title">CommunityToolkitCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// The method that will be executed when the RelayCommand is invoked.</span>
<span class="c1">/// HAL responds to the human named "Dave" that he can't do that.</span>
<span class="c1">/// This is a famous line from the movie.</span>
<span class="c1">/// &lt;summary&gt;</span>
<span class="p">[</span><span class="n">RelayCommand</span><span class="p">]</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">OpenThePodBayDoorsDirect</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ConversationLog</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="nf">AddToConvo</span><span class="p">(</span> <span class="s">"I'm sorry, Dave, I'm afraid I can't do that."</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_create_the_fellow_robot_command">Step 3: Create the "Fellow Robot" - Command</h3>
<div class="paragraph">
<p>Perhaps we will have more luck if the command is given by a fellow robot.</p>
</div>
<div class="paragraph">
<p>This <code>Command</code> is very similar to the one above. This time we will use a <code>CommandParameter</code> which is the name of another robot, but in fact it can be any <code>object</code> depending on your needs. We will also use the <code>CommandParameter</code> to enable or disable the <code>Command</code>, depending on the state of the parameter. Instead of initializing from the constructor, we will use the <a href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/generators/relaycommand">[<code>RelayCommand</code>]</a>-attribute</p>
</div>
<div class="listingblock">
<div class="title">CommunityToolkitCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// This command will ask HAL to open the pod bay doors, but this time we</span>
<span class="c1">/// check that the command is issued by a fellow robot (really any non-null name)</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="c1">/// &lt;remarks&gt;</span>
<span class="c1">/// We use the provided &lt;see href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/generators/relaycommand"&gt;source generator&lt;/see&gt;,</span>
<span class="c1">/// since this is quite convenient. We just have to add the &lt;c&gt;[RelayCommand]&lt;/c&gt;-attribute.</span>
<span class="c1">/// Please visit the docs for more info about this.</span>
<span class="c1">/// &lt;/remarks&gt;</span>
<span class="p">[</span><span class="nf">RelayCommand</span><span class="p">(</span><span class="n">CanExecute</span> <span class="p">=</span> <span class="k">nameof</span><span class="p">(</span><span class="n">CanRobotOpenTheDoor</span><span class="p">))]</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">OpenThePodBayDoorsFellowRobot</span><span class="p">(</span><span class="kt">string</span><span class="p">?</span> <span class="n">robotName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ConversationLog</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="nf">AddToConvo</span><span class="p">(</span><span class="s">$"Hello </span><span class="p">{</span><span class="n">robotName</span><span class="p">}</span><span class="s">, the Pod Bay is open :-)"</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// Check if the Robot can open the door (it needs to have a valid name)</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="c1">/// &lt;returns&gt;true if the robot has a name&lt;/returns&gt;</span>
<span class="k">private</span> <span class="kt">bool</span> <span class="nf">CanRobotOpenTheDoor</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="p">!</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">RobotName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see above we have also introduced a method called <code>CanRobotOpenTheDoor</code> which is used to enable or disable the command. However, we need to actively trigger the command invalidation. That can be done via <code>MyCommand.NotifyCanExecuteChanged()</code> or via the <code>[NotifyCanExecuteChangedFor]</code>-attribute, which we will add to our <code>RobotName</code>-property:</p>
</div>
<div class="listingblock">
<div class="title">CommunityToolkitCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="diff">    [ObservableProperty]
<span class="gi">+   [NotifyCanExecuteChangedFor(nameof(OpenThePodBayDoorsFellowRobotCommand))]
</span>    private string? _robotName;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_4_create_open_the_pod_bay_sequence_async_command">Step 4: Create "Open the Pod Bay sequence" - Async Command</h3>
<div class="paragraph">
<p>Many operations have multiple steps and we want to keep the user interface responsive while
we wait for sequence of operations to complete. One way to do this in <code>C#</code> is to use <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/">[<code>async / await</code>]</a> in combination with <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=net-6.0">[<code>Tasks</code>]</a> to run things in the background while not blocking the UI.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s add the <code>Command</code> and the <code>Task</code> to our <code>ViewModel</code>:</p>
</div>
<div class="listingblock">
<div class="title">CommunityToolkitCommandsViewModel.cs</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// This command will start an async task for the multi-step Pod bay opening sequence</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="c1">/// &lt;remarks&gt;</span>
<span class="c1">/// This method is an async Task because opening the pod bay doors can take long time.</span>
<span class="c1">/// We don't want our UI to become unresponsive.</span>
<span class="c1">/// &lt;/remarks&gt;</span>
<span class="p">[</span><span class="n">RelayCommand</span><span class="p">]</span>
<span class="k">private</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">OpenThePodBayDoorsAsync</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ConversationLog</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="nf">AddToConvo</span><span class="p">(</span><span class="s">"Preparing to open the Pod Bay..."</span><span class="p">);</span>
    <span class="c1">// wait a second</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Delay</span><span class="p">(</span><span class="m">1000</span><span class="p">);</span>

    <span class="nf">AddToConvo</span><span class="p">(</span><span class="s">"Depressurizing Airlock..."</span><span class="p">);</span>
    <span class="c1">// wait 2 seconds</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Delay</span><span class="p">(</span><span class="m">2000</span><span class="p">);</span>

    <span class="nf">AddToConvo</span><span class="p">(</span><span class="s">"Retracting blast doors..."</span><span class="p">);</span>
    <span class="c1">// wait 2 more seconds</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Delay</span><span class="p">(</span><span class="m">2000</span><span class="p">);</span>

    <span class="nf">AddToConvo</span><span class="p">(</span><span class="s">"Pod Bay is open to space!"</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When you execute this command, notice that the <code>Button</code> is disabled until the <code>Task</code> is finished, so you can&#8217;t ask for the pod bay doors to open again while the opening sequence is running. A more complete program could keep track of the state of the Pod Bay and change the button to "close".
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_step_5_setting_up_the_user_interface">Step 5: Setting up the User Interface</h3>
<div class="paragraph">
<p>Add a new <code>UserControl</code> into the <code>Views</code> folder called <code>CommunityToolkitCommandsSampleView</code>. The content will be the same as in the above sample, see <a href="#Solution1-Step6">Solution 1, Step 6</a></p>
</div>
<div class="paragraph">
<p>Only thing we need to change is the <code>ViewModel</code>-reference:</p>
</div>
<div class="listingblock">
<div class="title">CommunityToolkitCommandsSampleView.axaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="diff">&lt;UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:CommandSample.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
<span class="gs">!            x:DataType="viewModels:CommunityToolkitCommandsViewModel"
</span>             x:Class="CommandSample.Views.CommunityToolkitCommandsSampleView"&gt;
<span class="err">
</span>    &lt;Design.DataContext&gt;
<span class="gs">!       &lt;viewModels:CommunityToolkitCommandsViewModel/&gt;
</span>    &lt;/Design.DataContext&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>UserControl</code> itself will be added into the file <code>Views ‚ñ∫ MainWindow</code> or <code>MainView</code>, depending on the template used to create this App.</p>
</div>
<div class="listingblock">
<div class="title">MainWindow.axaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;TabControl&gt;</span>
	<span class="nt">&lt;TabItem</span> <span class="na">Header=</span><span class="s">"ReactiveUI"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;views:ReactiveUiCommandsSampleView</span> <span class="na">DataContext=</span><span class="s">"{Binding ReactiveUiCommandsViewModel}"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/TabItem&gt;</span>
    <span class="nt">&lt;TabItem</span> <span class="na">Header=</span><span class="s">"CommunityToolkit-MVVM"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;views:CommunityToolkitCommandsSampleView</span> <span class="na">DataContext=</span><span class="s">"{Binding CommunityToolkitCommandsViewModel}"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/TabItem&gt;</span>
<span class="nt">&lt;/TabControl&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_6_see_it_in_action">Step 6: See it in action</h3>
<div class="paragraph">
<p>Refer to <a href="#_step_7_see_it_in_action">Step 7: See it in action</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_docs/command_sample_result.gif" alt="Result">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_related">Related</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Beside the options shown above, you can also try out other <code>ICommand</code> implementations. Here are a few to try:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://prismlibrary.com/docs/commands/commanding.html">[DelegateCommand]</a> from <code>Prism Library</code></p>
</li>
<li>
<p><a href="https://docs.avaloniaui.net/docs/guides/data-binding/how-to-bind-to-a-command-without-reactiveui">[Avalonia can bind to methods]</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-11-06 19:42:36 UTC
</div>
</div>
</body>
</html>